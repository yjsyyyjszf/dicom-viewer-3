{"ast":null,"code":"/*! cornerstone-web-image-loader - 2.1.1 - 2018-12-05 | (c) 2016 Chris Hafey | https://github.com/cornerstonejs/cornerstoneWebImageLoader */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(\"cornerstoneWebImageLoader\", [], t) : \"object\" == typeof exports ? exports.cornerstoneWebImageLoader = t() : e.cornerstoneWebImageLoader = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var o = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        configurable: !1,\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 5);\n  }([function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.external = void 0;\n    var r,\n        o = n(4),\n        a = (r = o) && r.__esModule ? r : {\n      default: r\n    };\n    var u = void 0,\n        i = {\n      set cornerstone(e) {\n        u = e, (0, a.default)(u);\n      },\n\n      get cornerstone() {\n        return u;\n      }\n\n    };\n    t.external = i;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.loadImage = function (e) {\n      var t = r.external.cornerstone,\n          n = new XMLHttpRequest();\n      return n.open(\"GET\", e, !0), n.responseType = \"arraybuffer\", i.beforeSend(n), n.onprogress = function (n) {\n        if (n.lengthComputable) {\n          var r = n.loaded,\n              o = n.total,\n              a = Math.round(r / o * 100),\n              u = {\n            imageId: e,\n            loaded: r,\n            total: o,\n            percentComplete: a\n          };\n          t.triggerEvent(t.events, \"cornerstoneimageloadprogress\", u);\n        }\n      }, {\n        promise: new Promise(function (t, r) {\n          n.onload = function () {\n            (0, o.default)(this.response).then(function (n) {\n              var r = (0, a.default)(n, e);\n              t(r);\n            }, r);\n          }, n.send();\n        }),\n        cancelFn: function () {\n          n.abort();\n        }\n      };\n    }, t.configure = function (e) {\n      i = e;\n    };\n    var r = n(0),\n        o = u(n(3)),\n        a = u(n(2));\n\n    function u(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    var i = {\n      beforeSend: function () {}\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e, t) {\n      var n = e.naturalHeight,\n          u = e.naturalWidth;\n      return {\n        imageId: t,\n        minPixelValue: 0,\n        maxPixelValue: 255,\n        slope: 1,\n        intercept: 0,\n        windowCenter: 128,\n        windowWidth: 255,\n        render: r.external.cornerstone.renderWebImage,\n        getPixelData: function () {\n          return (n = void 0, a === t ? n = o.getContext(\"2d\") : (o.height = e.naturalHeight, o.width = e.naturalWidth, (n = o.getContext(\"2d\")).drawImage(e, 0, 0), a = t), n.getImageData(0, 0, e.naturalWidth, e.naturalHeight)).data;\n          var n;\n        },\n        getCanvas: function () {\n          return a === t ? o : (o.height = e.naturalHeight, o.width = e.naturalWidth, o.getContext(\"2d\").drawImage(e, 0, 0), a = t, o);\n        },\n        getImage: function () {\n          return e;\n        },\n        rows: n,\n        columns: u,\n        height: n,\n        width: u,\n        color: !0,\n        rgba: !1,\n        columnPixelSpacing: void 0,\n        rowPixelSpacing: void 0,\n        invert: !1,\n        sizeInBytes: n * u * 4\n      };\n    };\n    var r = n(0),\n        o = document.createElement(\"canvas\"),\n        a = void 0;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      return new Promise(function (t, n) {\n        var r = new Image(),\n            o = new Uint8Array(e),\n            a = new Blob([o]),\n            u = window.URL || window.webkitURL,\n            i = u.createObjectURL(a);\n        r.src = i, r.onload = function () {\n          t(r), u.revokeObjectURL(i);\n        }, r.onerror = function (e) {\n          u.revokeObjectURL(i), n(e);\n        };\n      });\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = function (e) {\n      e.registerImageLoader(\"http\", r.loadImage), e.registerImageLoader(\"https\", r.loadImage);\n    };\n    var r = n(1);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.external = t.configure = t.loadImage = t.createImage = t.arrayBufferToImage = void 0;\n    var r = i(n(3)),\n        o = i(n(2)),\n        a = n(1),\n        u = n(0);\n\n    function i(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    var d = {\n      arrayBufferToImage: r.default,\n      createImage: o.default,\n      loadImage: a.loadImage,\n      configure: a.configure,\n      external: u.external\n    };\n    t.arrayBufferToImage = r.default, t.createImage = o.default, t.loadImage = a.loadImage, t.configure = a.configure, t.external = u.external, t.default = d;\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}