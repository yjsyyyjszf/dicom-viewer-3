{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./arrayBufferToImage.js","webpack://[name]/./canvasToImage.js","webpack://[name]/./createImage.js","webpack://[name]/./createImageCustom.js","webpack://[name]/./dicomToImage.js","webpack://[name]/./externalModules.js","webpack://[name]/./fileManager.js","webpack://[name]/./imageToImage.js","webpack://[name]/./index.js","webpack://[name]/./loadImage.js","webpack://[name]/./parseImageId.js","webpack://[name]/./registerLoaders.js"],"names":["arrayBuffer","Promise","resolve","reject","image","Image","arrayBufferView","Uint8Array","blob","Blob","urlCreator","window","URL","webkitURL","imageUrl","createObjectURL","src","onload","revokeObjectURL","onerror","error","canvas","toDataURL","imageId","rows","naturalHeight","columns","naturalWidth","getPixelData","imageData","getImageData","data","context","lastImageIdDrawn","getContext","height","width","drawImage","getCanvas","minPixelValue","maxPixelValue","slope","intercept","windowCenter","windowWidth","render","external","cornerstone","renderWebImage","getImage","color","rgba","columnPixelSpacing","undefined","rowPixelSpacing","invert","sizeInBytes","document","createElement","customObj","pixelData","modalityLUT","voiLUT","obj","cs","files","add","file","fileIndex","push","addBuffer","addImage","addCanvas","addCustom","get","index","remove","purge","cornerstoneFileImageLoader","arrayBufferToImage","createImage","loadImage","configure","fileManager","options","parsedImageId","parseInt","url","scheme","promise","fileReader","FileReader","e","imageAsArrayBuffer","target","result","imagePromise","then","imageObject","readAsArrayBuffer","start","Date","getTime","loadEnd","end","loadTimeInMS","totalTimeInMS","opts","parseImageId","firstColonIndex","indexOf","substring","frameIndex","frame","frameStr","substr","registerImageLoader"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,GAAG;;QAEH;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA,MAAM;QACN;QACA;QACA,MAAM;QACN;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA,6BAA6B;QAC7B,6BAA6B;QAC7B;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA,kBAAkB,8BAA8B;QAChD;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,oBAAoB,2BAA2B;QAC/C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,OAAO;QACP;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,mBAAmB,cAAc;QACjC;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,gBAAgB,KAAK;QACrB;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA,gBAAgB,YAAY;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA,cAAc,4BAA4B;QAC1C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;;QAEJ;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,sBAAsB;QACvC;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA,UAAU;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,cAAc,wCAAwC;QACtD;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,OAAO;QACP;QA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","file":"cornerstoneFileImageLoader.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cornerstoneFileImageLoader\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cornerstoneFileImageLoader\"] = factory();\n\telse\n\t\troot[\"cornerstoneFileImageLoader\"] = factory();\n})(window, function() {\nreturn "," \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate_name_\"];\n \twindow[\"webpackHotUpdate_name_\"] = // eslint-disable-next-line no-unused-vars\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n \t\thotAddUpdateChunk(chunkId, moreModules);\n \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n \t} ;\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar script = document.createElement(\"script\");\n \t\tscript.charset = \"utf-8\";\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\n \t\tif (null) script.crossOrigin = null;\n \t\tdocument.head.appendChild(script);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest(requestTimeout) {\n \t\trequestTimeout = requestTimeout || 10000;\n \t\treturn new Promise(function(resolve, reject) {\n \t\t\tif (typeof XMLHttpRequest === \"undefined\") {\n \t\t\t\treturn reject(new Error(\"No browser support\"));\n \t\t\t}\n \t\t\ttry {\n \t\t\t\tvar request = new XMLHttpRequest();\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\n \t\t\t\trequest.open(\"GET\", requestPath, true);\n \t\t\t\trequest.timeout = requestTimeout;\n \t\t\t\trequest.send(null);\n \t\t\t} catch (err) {\n \t\t\t\treturn reject(err);\n \t\t\t}\n \t\t\trequest.onreadystatechange = function() {\n \t\t\t\tif (request.readyState !== 4) return;\n \t\t\t\tif (request.status === 0) {\n \t\t\t\t\t// timeout\n \t\t\t\t\treject(\n \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n \t\t\t\t\t);\n \t\t\t\t} else if (request.status === 404) {\n \t\t\t\t\t// no update available\n \t\t\t\t\tresolve();\n \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n \t\t\t\t\t// other failure\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n \t\t\t\t} else {\n \t\t\t\t\t// success\n \t\t\t\t\ttry {\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n \t\t\t\t\t} catch (e) {\n \t\t\t\t\t\treject(e);\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\tresolve(update);\n \t\t\t\t}\n \t\t\t};\n \t\t});\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"5233eeb398b69aa9d03e\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(\"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tvar chunkId = \"cornerstoneFileImageLoader\";\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\t/*globals chunkId */\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (!module || module.hot._selfAccepted) continue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted &&\n \t\t\t\t// removed self-accepted modules should not be required\n \t\t\t\tappliedUpdate[moduleId] !== warnUnexpectedRequire\n \t\t\t) {\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\thotCurrentHash = hotUpdateNewHash;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = [moduleId];\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(\"./index.js\")(__webpack_require__.s = \"./index.js\");\n","/**\r\n * Convert array buffer to image. Returns a promise that resolves to an Image object for the bytes in arrayBuffer\r\n *\r\n * @param arrayBuffer - arrayBuffer with bytes for a web image (e.g. JPEG, PNG, etc)\r\n * @returns {Promise} Promise that resolves to an Image object\r\n */\r\nexport default function (arrayBuffer) {\r\n  return new Promise((resolve, reject) => {\r\n    const image = new Image();\r\n    const arrayBufferView = new Uint8Array(arrayBuffer);\r\n    const blob = new Blob([arrayBufferView]);\r\n    const urlCreator = window.URL || window.webkitURL;\r\n    const imageUrl = urlCreator.createObjectURL(blob);\r\n\r\n    image.src = imageUrl;\r\n    image.onload = () => {\r\n      resolve(image);\r\n      urlCreator.revokeObjectURL(imageUrl);\r\n    };\r\n\r\n    image.onerror = (error) => {\r\n      urlCreator.revokeObjectURL(imageUrl);\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n","/**\r\n * Convert array buffer to image. Returns a promise that resolves to an Image object for the bytes in arrayBuffer\r\n *\r\n * @param arrayBuffer - arrayBuffer with bytes for a web image (e.g. JPEG, PNG, etc)\r\n * @returns {Promise} Promise that resolves to an Image object\r\n */\r\nexport default function (canvas) {\r\n  return new Promise((resolve, reject) => {\r\n    let image = new Image();\r\n    image.src = canvas.toDataURL(\"image/jpeg\");\r\n    image.onload = () => {\r\n      resolve(image);\r\n    };\r\n\r\n    image.onerror = (error) => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n","import { external } from './externalModules.js';\r\n\r\nconst canvas = document.createElement('canvas');\r\nlet lastImageIdDrawn;\r\n\r\n/**\r\n * creates a cornerstone Image object for the specified Image and imageId\r\n *\r\n * @param image - An Image\r\n * @param imageId - the imageId for this image\r\n * @returns Cornerstone Image Object\r\n */\r\nexport default function (image, imageId) {\r\n  // extract the attributes we need\r\n  const rows = image.naturalHeight;\r\n  const columns = image.naturalWidth;\r\n\r\n  function getPixelData () {\r\n    const imageData = getImageData();\r\n\r\n\r\n    return imageData.data;\r\n  }\r\n\r\n  function getImageData () {\r\n    let context;\r\n\r\n    if (lastImageIdDrawn === imageId) {\r\n      context = canvas.getContext('2d');\r\n    } else {\r\n      canvas.height = image.naturalHeight;\r\n      canvas.width = image.naturalWidth;\r\n      context = canvas.getContext('2d');\r\n      context.drawImage(image, 0, 0);\r\n      lastImageIdDrawn = imageId;\r\n    }\r\n\r\n    return context.getImageData(0, 0, image.naturalWidth, image.naturalHeight);\r\n  }\r\n\r\n  function getCanvas () {\r\n    if (lastImageIdDrawn === imageId) {\r\n      return canvas;\r\n    }\r\n\r\n    canvas.height = image.naturalHeight;\r\n    canvas.width = image.naturalWidth;\r\n    const context = canvas.getContext('2d');\r\n\r\n    context.drawImage(image, 0, 0);\r\n    lastImageIdDrawn = imageId;\r\n\r\n    return canvas;\r\n  }\r\n\r\n  // Extract the various attributes we need\r\n  return {\r\n    imageId,\r\n    minPixelValue: 0,\r\n    maxPixelValue: 255,\r\n    slope: 1,\r\n    intercept: 0,\r\n    windowCenter: 128,\r\n    windowWidth: 255,\r\n    render: external.cornerstone.renderWebImage,\r\n    getPixelData,\r\n    getCanvas,\r\n    getImage: () => image,\r\n    rows,\r\n    columns,\r\n    height: rows,\r\n    width: columns,\r\n    color: true,\r\n    rgba: false,\r\n    columnPixelSpacing: undefined,\r\n    rowPixelSpacing: undefined,\r\n    invert: false,\r\n    sizeInBytes: rows * columns * 4\r\n  };\r\n}\r\n","import { external } from './externalModules.js';\r\n\r\n/**\r\n * creates a cornerstone Image object for the specified custom object\r\n *\r\n * @param imageId - the imageId for this image\r\n * @param customObj - a custom image object\r\n * @returns Cornerstone Image Object\r\n */\r\nexport default function (imageId, customObj) {\r\n  // extract the attributes we need\r\n  const rows = customObj.rows;\r\n  const columns = customObj.columns;\r\n   \r\n  let image;\r\n  \r\n  // Extract the various attributes we need\r\n  image = {\r\n    imageId,\r\n    minPixelValue: customObj.image.minPixelValue,\r\n    maxPixelValue: customObj.image.maxPixelValue,\r\n    slope: customObj.image.slope,\r\n    intercept: customObj.image.intercept,\r\n    windowCenter: customObj.image.windowCenter,\r\n    windowWidth: customObj.image.windowWidth,\r\n    rows,\r\n    columns,\r\n    height: rows,\r\n    width: columns,\r\n    color: customObj.image.color,\r\n    rgba: customObj.image.rgba,\r\n    columnPixelSpacing: customObj.image.columnPixelSpacing,\r\n    rowPixelSpacing: customObj.image.rowPixelSpacing,\r\n    invert: customObj.image.invert,\r\n    sizeInBytes: rows * columns * 4\r\n\t};    \r\n    \r\n  image.getPixelData = () => customObj.pixelData;\r\n  image.modalityLUT = customObj.image.modalityLUT;\r\n  image.voiLUT = customObj.image.voiLUT;\r\n  image.data = customObj.image.data;\r\n  \r\n  return new Promise((resolve, reject) => {\r\n    resolve(image);\r\n  });\r\n}\r\n","/**\r\n * Convert array buffer to image. Returns a promise that resolves to an Image object for the bytes in arrayBuffer\r\n *\r\n * @param obj - is an object with a dataSet and a pixelData array\r\n * @returns {Promise} Promise that resolves to an Image object\r\n */\r\nexport default function (obj) {\r\n  return new Promise((resolve, reject) => {\r\n    let image = new Image();\r\n\timage.src = canvas.toDataURL(\"image/jpeg\");\r\n    image.onload = () => {\r\n      resolve(image);\r\n    };\r\n\r\n    image.onerror = (error) => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n","import registerLoaders from './registerLoaders.js';\r\n\r\nlet cornerstone;\r\n\r\nconst external = {\r\n  set cornerstone (cs) {\r\n    cornerstone = cs;\r\n\r\n    registerLoaders(cornerstone);\r\n  },\r\n  get cornerstone () {\r\n    return cornerstone;\r\n  }\r\n};\r\n\r\nexport { external };\r\n","let files = [];\n\nfunction add (file) {\n  const fileIndex = files.push(file);\n\n  return `imagefile:${fileIndex - 1}`;\n}\n\nfunction addBuffer (file) {\n  const fileIndex = files.push(file);\n\n  return `imagebuffer:${fileIndex - 1}`;\n}\n\nfunction addImage (file) {\n  const fileIndex = files.push(file);\n\n  return `imageimage:${fileIndex - 1}`;\n}\n\nfunction addCanvas (file) {\n  const fileIndex = files.push(file);\n\n  return `imagecanvas:${fileIndex - 1}`;\n}\n\nfunction addCustom (file) {\n  const fileIndex = files.push(file);\n\n  return `imagecustom:${fileIndex - 1}`;\n}\n\nfunction get (index) {\n  return files[index];\n}\n\nfunction remove (index) {\n  files[index] = undefined;\n}\n\nfunction purge () {\n  files = [];\n}\n\nexport default {\n  add,\n  addBuffer,\n  addImage,\n  addCanvas,\n  addCustom,\n  get,\n  remove,\n  purge\n};\n","/**\r\n * Convert array buffer to image. Returns a promise that resolves to an Image object for the bytes in arrayBuffer\r\n *\r\n * @param arrayBuffer - arrayBuffer with bytes for a web image (e.g. JPEG, PNG, etc)\r\n * @returns {Promise} Promise that resolves to an Image object\r\n */\r\nexport default function (image) {\r\n  return new Promise((resolve, reject) => {\r\n    image.onload = () => {\r\n      resolve(image);\r\n    };\r\n\r\n    image.onerror = (error) => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n","import arrayBufferToImage from './arrayBufferToImage.js';\r\nimport createImage from './createImage.js';\r\nimport fileManager from './fileManager.js';\r\nimport { loadImage, configure } from './loadImage.js';\r\nimport { external } from './externalModules.js';\r\n\r\nconst cornerstoneFileImageLoader = {\r\n  arrayBufferToImage,\r\n  createImage,\r\n  loadImage,\r\n  configure,\r\n  external,\r\n  fileManager\r\n};\r\n\r\nexport {\r\n  arrayBufferToImage,\r\n  createImage,\r\n  loadImage,\r\n  configure,\r\n  external,\r\n  fileManager\r\n};\r\n\r\nexport default cornerstoneFileImageLoader;\r\n","import { external } from './externalModules.js';\r\nimport arrayBufferToImage from './arrayBufferToImage.js';\r\nimport imageToImage from './imageToImage.js';\r\nimport canvasToImage from './canvasToImage.js';\r\nimport dicomCanvasToImage from './dicomToImage.js';\r\nimport createImage from './createImage.js';\r\nimport createImageCustom from './createImageCustom.js';\r\nimport parseImageId from './parseImageId.js';\r\nimport fileManager from './fileManager.js';\r\n\r\n//\r\n// This is a Cornerstone image loader for images (PNG, JPG) using the HTML5 File API \r\n//\r\n\r\nlet options = {\r\n\r\n};\r\n\r\n// Loads an image from a HTML5 API file to an image\r\nexport function loadImage (imageId) {\r\n  const parsedImageId = parseImageId(imageId);\r\n  const fileIndex = parseInt(parsedImageId.url, 10);\r\n  const file = fileManager.get(fileIndex);\r\n\r\n  if (parsedImageId.scheme === 'imagefile') {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.onload = (e) => {\r\n        const imageAsArrayBuffer = e.target.result;\r\n        const imagePromise = arrayBufferToImage(imageAsArrayBuffer);\r\n        imagePromise.then((image) => {\r\n          const imageObject = createImage(image, imageId);\r\n          resolve(imageObject);\r\n        }, reject);\r\n      };\r\n\r\n      fileReader.onerror = reject;\r\n\r\n      fileReader.readAsArrayBuffer(file);\r\n    });\r\n\r\n    return {\r\n      promise\r\n    };   \r\n\r\n  } else if (parsedImageId.scheme === 'imagebuffer') {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      if (file !== null && file !== undefined) { // file is an ArrayBuffer\r\n        const imageAsArrayBuffer = file;\r\n        const imagePromise = arrayBufferToImage(imageAsArrayBuffer);\r\n        imagePromise.then((image) => {\r\n          const imageObject = createImage(image, imageId);\r\n          resolve(imageObject);\r\n        }, reject);\r\n      } else {\r\n        reject('buffer is null or undefined');\r\n      }\r\n    });\r\n\r\n    return {\r\n      promise\r\n    };   \r\n\t\r\n  } else if (parsedImageId.scheme === 'imageimage') {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      if (file !== null && file !== undefined) { // file is an image\r\n        const imagePromise = imageToImage(file);\r\n        imagePromise.then((image) => {\r\n          const imageObject = createImage(image, imageId);\r\n          resolve(imageObject);\r\n        }, reject);\r\n      } else {\r\n        reject('image is null or undefined');\r\n      }\r\n    });\r\n\r\n    return {\r\n      promise\r\n    };   \r\n    \r\n  } else if (parsedImageId.scheme === 'imagecanvas') {\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      if (file !== null && file !== undefined) { // file is a canvas\r\n        const imagePromise = canvasToImage(file);\r\n        imagePromise.then((image) => {\r\n          const imageObject = createImage(image, imageId);\r\n          resolve(imageObject);\r\n        }, reject);\r\n      } else {\r\n        reject('canvas is null or undefined');\r\n      }\r\n    });\r\n\r\n    return {\r\n      promise\r\n    };   \r\n    \r\n  } else if (parsedImageId.scheme === 'imagecustom') {\r\n    \r\n    const start = new Date().getTime();\r\n    const promise = new Promise((resolve, reject) => {\r\n      const loadEnd = new Date().getTime();\r\n      if (file !== null && file !== undefined) { // file is an custom object, with a cornerstone Image object and a pixelData array\r\n        let imagePromise = createImageCustom(imageId, file);\r\n        imagePromise.then(image => {\r\n          const end = new Date().getTime();\r\n\r\n          image.loadTimeInMS = loadEnd - start;\r\n          image.totalTimeInMS = end - start;  \r\n          \r\n          resolve(image);\r\n        }, reject);\r\n      } else {\r\n        reject('custom object is null or undefined');\r\n      }\r\n    });\r\n\r\n    return {\r\n      promise\r\n    };   \r\n    \r\n  }\r\n  \r\n}\r\n\r\nexport function configure (opts) {\r\n  options = opts;\r\n}\r\n","function parseImageId (imageId) {\n  // build a url by parsing out the url scheme and frame index from the imageId\n  const firstColonIndex = imageId.indexOf(':');\n  let url = imageId.substring(firstColonIndex + 1);\n  const frameIndex = url.indexOf('frame=');\n  let frame;\n\n  if (frameIndex !== -1) {\n    const frameStr = url.substr(frameIndex + 6);\n\n    frame = parseInt(frameStr, 10);\n    url = url.substr(0, frameIndex - 1);\n  }\n\n  return {\n    scheme: imageId.substr(0, firstColonIndex),\n    url,\n    frame\n  };\n}\n\nexport default parseImageId;\n","import { loadImage } from './loadImage.js';\r\n\r\nexport default function (cornerstone) {\r\n  // Register the file prefixes so we can use HTML5 File API to work with local files\r\n  cornerstone.registerImageLoader('imagefile', loadImage);\r\n  cornerstone.registerImageLoader('imagebuffer', loadImage);\r\n  cornerstone.registerImageLoader('imageimage', loadImage);\r\n  cornerstone.registerImageLoader('imagecanvas', loadImage);\r\n  cornerstone.registerImageLoader('imagecustom', loadImage);\r\n}\r\n"],"sourceRoot":""}