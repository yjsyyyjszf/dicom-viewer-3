/*! cornerstone-file-image-loader - 0.3.0 - 2020-04-16 | (c) 2016 Chris Hafey | https://github.com/webnamics/cornerstoneFileImageLoader#readme */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cornerstoneFileImageLoader",[],t):"object"==typeof exports?exports.cornerstoneFileImageLoader=t():e.cornerstoneFileImageLoader=t()}(window,function(){return r={},a.m=n=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.external=void 0;var r,a=n(6),i=(r=a)&&r.__esModule?r:{default:r};var o=void 0,u={set cornerstone(e){o=e,(0,i.default)(o)},get cornerstone(){return o}};t.external=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(u){return new Promise(function(e,t){var n=new Image,r=new Uint8Array(u),a=new Blob([r]),i=window.URL||window.webkitURL,o=i.createObjectURL(a);n.src=o,n.onload=function(){e(n),i.revokeObjectURL(o)},n.onerror=function(e){i.revokeObjectURL(o),t(e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,n){var e=t.naturalHeight,r=t.naturalWidth;return{imageId:n,minPixelValue:0,maxPixelValue:255,slope:1,intercept:0,windowCenter:128,windowWidth:255,render:a.external.cornerstone.renderWebImage,getPixelData:function(){return function(){var e=void 0;o===n?e=i.getContext("2d"):(i.height=t.naturalHeight,i.width=t.naturalWidth,(e=i.getContext("2d")).drawImage(t,0,0),o=n);return e.getImageData(0,0,t.naturalWidth,t.naturalHeight)}().data},getCanvas:function(){return o===n||(i.height=t.naturalHeight,i.width=t.naturalWidth,i.getContext("2d").drawImage(t,0,0),o=n),i},getImage:function(){return t},rows:e,columns:r,height:e,width:r,color:!0,rgba:!1,columnPixelSpacing:void 0,rowPixelSpacing:void 0,invert:!1,sizeInBytes:e*r*4}};var a=n(0),i=document.createElement("canvas"),o=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=function(a){var e=(0,c.default)(a),t=parseInt(e.url,10),i=s.default.get(t);{if("imagefile"===e.scheme)return{promise:new Promise(function(n,r){var e=new FileReader;e.onload=function(e){var t=e.target.result;(0,u.default)(t).then(function(e){var t=(0,f.default)(e,a);n(t)},r)},e.onerror=r,e.readAsArrayBuffer(i)})};if("imagebuffer"===e.scheme)return{promise:new Promise(function(n,e){if(null!=i){var t=i;(0,u.default)(t).then(function(e){var t=(0,f.default)(e,a);n(t)},e)}else e("buffer is null or undefined")})};if("imageimage"===e.scheme)return{promise:new Promise(function(n,e){null!=i?(0,r.default)(i).then(function(e){var t=(0,f.default)(e,a);n(t)},e):e("image is null or undefined")})};if("imagecanvas"===e.scheme)return{promise:new Promise(function(n,e){null!=i?(0,l.default)(i).then(function(e){var t=(0,f.default)(e,a);n(t)},e):e("canvas is null or undefined")})};if("imagecustom"===e.scheme){var o=(new Date).getTime();return{promise:new Promise(function(n,e){var r=(new Date).getTime();null!=i?(0,d.default)(a,i).then(function(e){var t=(new Date).getTime();e.loadTimeInMS=r-o,e.totalTimeInMS=t-o,n(e)},e):e("custom object is null or undefined")})}}}},t.configure=function(e){e};n(0);var u=a(n(1)),r=a(n(7)),l=a(n(8)),f=(a(n(9)),a(n(2))),d=a(n(10)),c=a(n(11)),s=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[];t.default={add:function(e){return"imagefile:"+(r.push(e)-1)},addBuffer:function(e){return"imagebuffer:"+(r.push(e)-1)},addImage:function(e){return"imageimage:"+(r.push(e)-1)},addCanvas:function(e){return"imagecanvas:"+(r.push(e)-1)},addCustom:function(e){return"imagecustom:"+(r.push(e)-1)},get:function(e){return r[e]},remove:function(e){r[e]=void 0},purge:function(){r=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileManager=t.external=t.configure=t.loadImage=t.createImage=t.arrayBufferToImage=void 0;var r=l(n(1)),a=l(n(2)),i=l(n(4)),o=n(3),u=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var f={arrayBufferToImage:r.default,createImage:a.default,loadImage:o.loadImage,configure:o.configure,external:u.external,fileManager:i.default};t.arrayBufferToImage=r.default,t.createImage=a.default,t.loadImage=o.loadImage,t.configure=o.configure,t.external=u.external,t.fileManager=i.default,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.registerImageLoader("imagefile",r.loadImage),e.registerImageLoader("imagebuffer",r.loadImage),e.registerImageLoader("imageimage",r.loadImage),e.registerImageLoader("imagecanvas",r.loadImage),e.registerImageLoader("imagecustom",r.loadImage)};var r=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return new Promise(function(e,t){n.onload=function(){e(n)},n.onerror=function(e){t(e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return new Promise(function(e,t){var n=new Image;n.src=r.toDataURL("image/jpeg"),n.onload=function(){e(n)},n.onerror=function(e){t(e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(e,t){var n=new Image;n.src=canvas.toDataURL("image/jpeg"),n.onload=function(){e(n)},n.onerror=function(e){t(e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.rows,r=t.columns,a=void 0;return(a={imageId:e,minPixelValue:t.image.minPixelValue,maxPixelValue:t.image.maxPixelValue,slope:t.image.slope,intercept:t.image.intercept,windowCenter:t.image.windowCenter,windowWidth:t.image.windowWidth,rows:n,columns:r,height:n,width:r,color:t.image.color,rgba:t.image.rgba,columnPixelSpacing:t.image.columnPixelSpacing,rowPixelSpacing:t.image.rowPixelSpacing,invert:t.image.invert,sizeInBytes:n*r*4,getPixelData:function(){return t.pixelData}}).modalityLUT=t.image.modalityLUT,a.voiLUT=t.image.voiLUT,a.data=t.image.data,new Promise(function(e,t){e(a)})};n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.indexOf(":"),n=e.substring(t+1),r=n.indexOf("frame="),a=void 0;if(-1!==r){var i=n.substr(r+6);a=parseInt(i,10),n=n.substr(0,r-1)}return{scheme:e.substr(0,t),url:n,frame:a}}}],a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=5);function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var n,r});
//# sourceMappingURL=cornerstoneFileImageLoader.min.js.map